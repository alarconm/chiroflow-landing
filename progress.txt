--- Iteration 1 completed at 2026-01-21 23:59:15 ---
Story: US-200 - Chiropractic clinical schema

--- Iteration 2 completed at 2026-01-21 23:59:25 ---
Story: US-200 - Chiropractic clinical schema

--- Iteration 3 completed at 2026-01-21 23:59:34 ---
Story: US-200 - Chiropractic clinical schema

--- Iteration 4 completed at 2026-01-21 23:59:44 ---
Story: US-200 - Chiropractic clinical schema

--- Iteration 5 completed at 2026-01-21 23:59:53 ---
Story: US-200 - Chiropractic clinical schema

--- Iteration 6 completed at 2026-01-22 ---
Story: US-200 - Chiropractic clinical schema

Implemented:
- SpinalRegion enum (CERVICAL, THORACIC, LUMBAR, SACRAL, PELVIS)
- SubluxationSeverity enum (MINIMAL to EXTREME, 1-5 scale)
- TechniqueCategory enum (MANUAL, INSTRUMENT, TABLE_ASSISTED, LOW_FORCE)
- AdjustmentResponse enum (EXCELLENT to POOR)
- Technique model with name, category, description, indications, contraindications
- TechniqueFavorite model for provider quick access
- Subluxation model with patientId, encounterId, vertebra, listing, severity, notes
- SubluxationHistory model for tracking changes over time
- Adjustment model with encounterId, vertebra, technique, force, direction, response, pre/post findings
- VertebralListing model with segment, laterality, rotation, Gonstead/Palmer notation support
- ChiropracticExam model with leg length, muscle testing, palpation, ROM, neurological screening

Added relations to:
- Organization model
- Patient model
- Encounter model
- Provider model (techniqueFavorites)
- User model (subluxationHistoryEntries)
- BodyDiagram model (subluxations)

Schema validated with `prisma validate` ✓
Prisma client generated successfully ✓
TypeScript compilation passes ✓
Note: Run `npx prisma migrate dev --name chiropractic_clinical_schema` to apply migration

--- Iteration 6 completed at 2026-01-22 00:05:11 ---
Story: US-200 - Chiropractic clinical schema

--- Iteration 7 completed at 2026-01-22 ---
Story: US-201 - Technique library management

Implemented:
- technique.list - Lists all techniques with category filtering, search, pagination
  - Groups techniques by category (MANUAL, INSTRUMENT, TABLE_ASSISTED, LOW_FORCE)
  - Shows both system techniques and organization-specific techniques
- technique.get - Gets technique details including contraindications and usage counts
- technique.create - Adds custom technique (admin only)
- technique.update - Updates org-specific techniques (admin only)
- technique.delete - Deletes unused org-specific techniques (admin only)
- technique.getCategories - Lists categories with technique counts
- technique.favorites.list - Gets provider's favorite techniques
- technique.favorites.add - Adds technique to provider favorites
- technique.favorites.remove - Removes technique from favorites
- technique.favorites.reorder - Reorders favorite techniques
- technique.seedStandard - Seeds standard chiropractic techniques (admin, idempotent)

Standard techniques seeded:
- Manual: Diversified, Gonstead, Toggle Recoil
- Instrument-assisted: Activator Methods, Impulse Adjusting
- Table-assisted: Thompson Drop, Cox Flexion-Distraction
- Low-force: Sacro-Occipital Technique (SOT), Craniosacral Therapy, Network Spinal Analysis

Each technique includes:
- Name and category
- Detailed description
- Indications (conditions where technique is indicated)
- Contraindications (when NOT to use)
- Instructions for performing

Added audit action types for technique operations
Router registered in index.ts
TypeScript compilation passes ✓

--- Iteration 7 completed at 2026-01-22 00:09:35 ---
Story: US-201 - Technique library management

--- Iteration 8 completed at 2026-01-22 ---
Story: US-202 - Subluxation documentation

Implemented:
- subluxation.create - Document subluxation finding with vertebra, listing, severity
  - Auto-detects spinal region from vertebra (C1-C7=Cervical, T1-T12=Thoracic, etc.)
  - Creates initial history entry for tracking
  - Prevents duplicates at same vertebra in same encounter
- subluxation.update - Update subluxation status with history tracking
  - Records changes in SubluxationHistory with changeReason
  - Supports marking as resolved with resolvedNotes
- subluxation.list - List patient subluxations by region
  - Filter by region, encounter, include/exclude resolved
  - Groups results by SpinalRegion
  - Includes severity info with color coding
- subluxation.get - Get full subluxation details with history and adjustments
- subluxation.getHistory - Get subluxation timeline
  - Shows all changes over time with who documented and when
  - Includes severity change direction (improved/worsened)
- subluxation.compare - Compare subluxations between visits
  - Identifies new, resolved, improved, worsened, unchanged
  - Calculates overall treatment trend
  - Summary statistics for progress tracking
- subluxation.delete - Delete subluxation (only if unsigned and no adjustments)
- subluxation.getSeverityScale - Returns severity scale info (1-5 with colors)
- subluxation.getListingNotations - Returns Gonstead and Palmer listing codes
- subluxation.getPatientOverview - Complete spine overview with all active subluxations

Standard listing notation support:
- Gonstead: PLS, PRS, PLI, PRI, AS, PI, IN, EX, AS-IN, AS-EX, PI-IN, PI-EX
- Palmer: PL, PR, P, A, L, R, I, S, RL, RR, PS, AS
- Full descriptions for each listing code

Severity scale (1-5) with visual indicators:
- 1 MINIMAL (#22c55e green) - Minimal dysfunction
- 2 MILD (#84cc16 lime) - Mild dysfunction
- 3 MODERATE (#f59e0b amber) - Moderate dysfunction
- 4 SEVERE (#f97316 orange) - Severe dysfunction
- 5 EXTREME (#ef4444 red) - Extreme dysfunction

Body diagram integration via bodyDiagramId foreign key
Comparison view shows side-by-side visit comparison with change tracking

Added audit action types: SUBLUXATION_CREATE, SUBLUXATION_UPDATE, SUBLUXATION_DELETE, SUBLUXATION_RESOLVE
Router registered in index.ts
TypeScript compilation passes ✓

