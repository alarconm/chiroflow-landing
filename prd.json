{
  "branch": "feature/clearinghouse",
  "title": "Epic 08: Clearinghouse Integration",
  "description": "EDI/API integration with clearinghouses for electronic claim submission, eligibility verification, and remittance processing. Enables automated claim workflow.",
  "epic": "08-clearinghouse",
  "dependencies": ["07-billing-claims"],
  "userStories": [
    {
      "id": "US-069",
      "title": "Clearinghouse configuration schema",
      "description": "Create database models for clearinghouse connections and submission tracking.",
      "acceptanceCriteria": [
        "ClearinghouseConfig model with name, type, apiEndpoint, credentials (encrypted)",
        "ClaimSubmission model with claimId, clearinghouseId, submissionDate, status, response",
        "EligibilityCheck model with patientId, payerId, checkDate, status, response",
        "Remittance model (ERA/835) with payerId, checkNumber, amount, receivedDate",
        "RemittanceLine model linking payments to claims",
        "Prisma migrations run successfully"
      ],
      "priority": 1,
      "passes": true
    },
    {
      "id": "US-070",
      "title": "Clearinghouse provider abstraction",
      "description": "Create provider interface for different clearinghouse integrations.",
      "acceptanceCriteria": [
        "ClearinghouseProvider interface with submitClaim, checkEligibility, getRemittance methods",
        "MockClearinghouseProvider for development and testing",
        "Environment-based provider selection",
        "Credential encryption/decryption utilities",
        "Error handling and retry logic"
      ],
      "priority": 2,
      "passes": true
    },
    {
      "id": "US-071",
      "title": "EDI 837 claim file generation",
      "description": "Generate ANSI X12 837P (Professional) claim files from internal claim data.",
      "acceptanceCriteria": [
        "claim.generate837 - Create 837P file structure",
        "ISA/GS envelope segments with proper control numbers",
        "ST/SE transaction set segments",
        "2000A/2000B/2300/2400 loops for billing provider, subscriber, claim, service",
        "Proper segment terminators and element separators",
        "Validation before generation"
      ],
      "priority": 3,
      "passes": true
    },
    {
      "id": "US-072",
      "title": "Electronic claim submission",
      "description": "Submit claims electronically through clearinghouse API.",
      "acceptanceCriteria": [
        "clearinghouse.submitClaim - Submit single claim",
        "clearinghouse.submitBatch - Submit multiple claims",
        "Track submission status and response",
        "Store clearinghouse claim ID for tracking",
        "Handle submission errors and rejections",
        "Update claim status based on response"
      ],
      "priority": 4,
      "passes": true
    },
    {
      "id": "US-073",
      "title": "Real-time eligibility verification",
      "description": "Check patient insurance eligibility in real-time via clearinghouse.",
      "acceptanceCriteria": [
        "clearinghouse.checkEligibility - Verify patient coverage",
        "Return coverage status, copay, deductible, coinsurance",
        "Store eligibility response for reference",
        "Display eligibility in patient record",
        "Support primary and secondary insurance",
        "Cache eligibility for configurable period"
      ],
      "priority": 5,
      "passes": true
    },
    {
      "id": "US-074",
      "title": "EDI 835 remittance processing",
      "description": "Parse and process ERA/835 remittance files for auto-posting.",
      "acceptanceCriteria": [
        "clearinghouse.parseERA - Parse 835 file structure",
        "Extract payment amounts, adjustments, denials",
        "Match remittance lines to claims",
        "clearinghouse.autoPost - Auto-post payments from ERA",
        "Handle adjustment reason codes",
        "Generate posting report"
      ],
      "priority": 6,
      "passes": true
    },
    {
      "id": "US-083",
      "title": "Claim status tracking",
      "description": "Track and display claim status from submission through payment.",
      "acceptanceCriteria": [
        "clearinghouse.getClaimStatus - Check claim status via API",
        "Status timeline with dates and notes",
        "Automatic status polling (configurable interval)",
        "Status change notifications",
        "Denial reason code display"
      ],
      "priority": 7,
      "passes": true
    },
    {
      "id": "US-084",
      "title": "Clearinghouse dashboard UI",
      "description": "Create UI for managing clearinghouse submissions and status.",
      "acceptanceCriteria": [
        "Dashboard at /clearinghouse with submission queue",
        "Claims ready for submission list",
        "Submission history with status",
        "Eligibility check interface",
        "ERA/remittance inbox",
        "Clearinghouse configuration settings",
        "Error and rejection management"
      ],
      "priority": 8,
      "passes": false
    }
  ]
}
